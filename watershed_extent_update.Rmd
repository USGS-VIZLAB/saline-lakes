---
title: "Saline Lakes Spatial Data Update"
author: |
  | Data Science Branch, IIDD, USGS WMA 
  |
  | Contacts: Margaux Sleckman (msleckman@usgs.gov), Anthony Martinez (ajmartinez@usgs.gov) and Cee Nell (cnell@usgs.gov)
  
date: "9/01/2022"
output: html_document
---

### Data source table: 

| Feature  |Source/Database | Notes     |
| ---------|----------|-----------| 
|Water Bodies |[National Hydrological Dataset - high res](https://www.usgs.gov/national-hydrography/nhdplus-high-resolution) - water body attributes | Carson sink was manually drawn 
| Huc | [National Hydrological Dataset - high res](https://www.usgs.gov/national-hydrography/nhdplus-high-resolution) - HUC6,8,10,12 | X
|Flowlines | [National Hydrological Dataset - medium res](https://www.usgs.gov/national-hydrography/national-hydrography-dataset) - NHDFLowlines
| Gauge sites | NWIS |
| field measurements | NWIS |  


### Definitions: 

Geospatial features:

  * Water body and watershed extent definitions:
  
    * **Saline Lake: ** Lake polygon, outlined by the border of the water body feature
    * **Lake boundary and wetlands:** * Broader outline of our focal lakes that includes lake wetlands
    * **Watershed Extents:** Extent of the lake's watershed containing focal lakes

_* not yet created_


### Defining watershed extents: Steps:

**Watershed Extent**

  1. Identified HUC6: basin of each lake

  2. Collected all the huc8 and huc10s within those HUC6 

  3. Created spreadsheet mapping Huc6,Hu8,and Huc10 associated with each lake (see sharepoint excel [here](https://doimspp.sharepoint.com/:x:/s/IIDDStaff/EdhaQ9_tsPNIhW32hI9nydAB9RO5CDXSHx3yGLVWtaxwNA?e=wl8wS4)), then reviewed and consulted on theses HU to identify the units considered within a given lake's watershed scope. 

  In some cases, the watershed of a given lake is the entire HUC6 within which that lake belong's to (e.g. Pyramid Lake,     CA), this is the default if no more precise information is provided. In other cases, the watershed of a given lake         comprises of one or several huc10s (Eagle Lake, CA). Our output watershed extent shapefile is displayed by the layer       Watershed Extent.

**Layer definitions:**

*  Great Basin HUC6: HUC6 basin of each lake
*  Great Basin HUC8: HUC8 within the HUC6 basin 
*  Great Basin HUC10:HUC10 within the HUC6 basin
*  Saline lakes: Selected lakes, pulled from NHDPlus high - resolution, as well as medium resolution if not available.
*  Watershed Extent: Defined lake watershed extent given feedback provided
*  Watershed Extent by huc10: Defined lake watershed extent within huc10 polygons 
*  Watershed Extent v2: Alternative version of Watershed extent excluded HUC6:humboldt which currently tied to Carson Sink.


```{r load_lbs, echo = FALSE,message = FALSE, warnings = FALSE} 

library(targets)
library(leaflet)
library(scico)
library(scales)
library(dplyr)
#library(vctrs)
library(rmapshaper)

source('3_visualize/src/prep_viz_data.R')
source('3_visualize/src/interactive_map.R')

```

```{r load_targets, echo = FALSE, message = FALSE, warnings = FALSE}

## HUC
tar_load(p1_get_lakes_huc6_sf)
tar_load(p1_get_lakes_huc8_sf)
tar_load(p1_get_lakes_huc10_sf)

## Lakes
tar_load(p2_saline_lakes_sf)
tar_load(p3_saline_lakes_sf)

## Watershed 
tar_load(p2_huc10_watershed_boundary)
tar_load(p2_huc10_watershed_boundary_no_humbolt_huc6)
tar_load(p2_lake_watersheds_dissolved)
tar_load(p2_lake_watersheds_dissolved_no_humbolt_huc6)

## flowlines
tar_load(p2_lake_tributaries)
tar_load(p3_flowlines_sf)

## Sites 
targets::tar_load(p3_gage_sites_sf)
targets::tar_load(p1_site_in_watersheds_sf)

## nwis data 
targets::tar_load(p1_nwis_dv_sw_data)
targets::tar_load(p1_nwis_meas_sw_data)

```



#### Defining watershed extents - Map

```{r huc_basins, message =FALSE, echo = FALSE, warnings = FALSE, out.width = '100%'}

leaflet_map_huc <- leaflet() %>% 
  addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
    ## NOTE - compared to previos version of function - I've removed label param (no label column like below)
      # Add data layers (overlayGroups)
    addPolygons(data = p1_get_lakes_huc6_sf %>% ms_simplify(),
                group = "Great Basin HUC6",
                color = 'green', fillColor = "grey", opacity = 0.2, weight = 1) %>% 
    addPolygons(data = p1_get_lakes_huc8_sf %>% ms_simplify(),
                group = "Great Basin HUC8",
                color = 'blue', fillColor = "grey", opacity = 0.2, weight = 1) %>% 
    addPolygons(data = p1_get_lakes_huc10_sf %>% ms_simplify(),
                group = "Great Basin HUC10",
                color = 'purple', fillColor = "grey", opacity = 0.2, weight = 1) %>% 
    addPolygons(data = p2_huc10_watershed_boundary %>% ms_simplify(),
                group = "Watershed Extent by huc10",
                color = 'black', fillColor = "grey", opacity = 0.4, weight = 1) %>%
    addPolygons(data = p2_lake_watersheds_dissolved, group = "Watershed Extent",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p2_lake_watersheds_dissolved_no_humbolt_huc6, group = "Watershed Extent v2",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p3_saline_lakes_sf, group = "Saline lakes",
                color = '#3A6DB7', opacity = 0.6, weight = 1,
                popup = ~label) %>% 
      addLabelOnlyMarkers(data = p3_saline_lakes_sf, lng = ~X, lat = ~Y, group = "Lake labels",
                        label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)) %>% 
    # addLegend(data = , group = c("Watershed"),
    #            title = "Within saline lake subbasin",
    #            pal = pal_gage, values = ~in_HUC8,
    #            position = "bottomright") %>%
  addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes",
                                       "Great Basin HUC6","Great Basin HUC8", "Great Basin HUC10",
                                       "Watershed Extent",
                                       "Watershed Extent by huc10", "Watershed Extent v2", "Lake labels"),
                     position = "topright",
                     options = layersControlOptions(collapsed = F)) %>% 
  hideGroup(c("Great Basin HUC6", "Great Basin HUC8", "Great Basin HUC10",
              "Watershed Extent","Watershed Extent v2","Watershed Extent by huc10"))

```


```{r message =FALSE, echo = FALSE, warnings = FALSE, out.width = '100%'}

leaflet_map_huc

```

#### Watershed extents Questions

**Initial Lake-specific Questions:**

- **Carson Sink:** 

* Carson Sink in the manner it is drawn overlaps with two HUC6. Since default is to take HUC6 – the basin of the lake – both HUC6 - Humboldt and HUC6-Carson Desert basins are currently included as part of that lakes watershed extent. However, through quick review of literature, HUC6: Carson Desert seems to be the agreed-upon basin for Carson Sink. 
What is the best representation of the watershed? 

```{r message =FALSE, echo = FALSE, warnings = FALSE}


selected_lake <- 'Carson Sink,NV'

bbox <- p2_lake_watersheds_dissolved %>%
  filter(lake_w_state == selected_lake) %>% 
  sf::st_bbox() %>% as.vector()

leaflet_map_crsn_sk <- leaflet() %>% 
  addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
  fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) %>% 
    ## NOTE - compared to previos version of function - I've removed label param (no label column like below)
      # Add data layers (overlayGroups)
    addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state == selected_lake,],
                group = "Watershed Extent",
                color = 'black',fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p2_lake_watersheds_dissolved_no_humbolt_huc6[p2_lake_watersheds_dissolved_no_humbolt_huc6$lake_w_state == selected_lake,], group = "Watershed Extent v2",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state == selected_lake,],
                group = "Saline lakes", color = '#3A6DB7', opacity = 0.6, weight = 1,
                popup = ~label) %>% 
      addPolygons(data = p1_get_lakes_huc6_sf[p1_get_lakes_huc6_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC6",
                color = 'green', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p1_get_lakes_huc8_sf[p1_get_lakes_huc8_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC8",
                color = 'red', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>%
    addPolygons(data = p1_get_lakes_huc10_sf[p1_get_lakes_huc10_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC10",
                color = 'purple', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>%
      addLabelOnlyMarkers(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state == selected_lake,],
                          lng = ~X, lat = ~Y, group = "Lake labels",
                        label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)) %>% 
  addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes", "Watershed Extent",
                                       "Great Basin HUC6","Great Basin HUC8","Great Basin HUC10",
                                       "Watershed Extent v2",
                                       "Lake labels"),
                     position = "topright",
                     options = layersControlOptions(collapsed = F))%>% 
  hideGroup(c("Great Basin HUC6","Great Basin HUC8","Great Basin HUC10","Watershed Extent v2"))

leaflet_map_crsn_sk

```

- **Sevier Lake, UT:**

* What Huc8's are included in the Sevier Lake watershed? Should it include Middle and Upper Sevier?
<br>

```{r message =FALSE, echo = FALSE, warnings = FALSE}

selected_lake <- 'Sevier Lake,UT'

bbox <- p2_lake_watersheds_dissolved %>%
  filter(lake_w_state == selected_lake) %>% 
  sf::st_bbox() %>% as.vector()

leaflet_map_sevier <- leaflet() %>% 
  addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
  fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) %>% 
    ## NOTE - compared to previos version of function - I've removed label param (no label column like below)
      # Add data layers (overlayGroups)
    addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state == selected_lake,],
                group = "Watershed Extent",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p1_get_lakes_huc6_sf[p1_get_lakes_huc6_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC6",
                color = 'green', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p1_get_lakes_huc8_sf[p1_get_lakes_huc8_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC8",
                color = 'blue', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p3_saline_lakes_sf, group = "Saline lakes",
                color = '#3A6DB7', opacity = 0.6, weight = 1,
                popup = ~label) %>% 
      addLabelOnlyMarkers(data = p3_saline_lakes_sf, lng = ~X, lat = ~Y, group = "Lake labels",
                        label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)) %>% 
  addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes", "Watershed Extent",
                                       "Great Basin HUC6","Great Basin HUC8",
                                       "Lake labels"),
                     position = "topright",
                     options = layersControlOptions(collapsed = F))%>% 
  hideGroup(c("Great Basin HUC6","Great Basin HUC8","Great Basin HUC10"))

leaflet_map_sevier

```

- **Honey Lake, CA:**

* In the feedback provided about the watershed of Honey Lake, two HUC 10 are ruled out of the watershed. This explains why there is are holes in the Honey Lake watershed basin. 
Is this correct? 

```{r message =FALSE, echo = FALSE, warnings = FALSE}

selected_lake <- 'Honey Lake,CA'

bbox <- p2_lake_watersheds_dissolved %>%
  filter(lake_w_state == selected_lake) %>% 
  sf::st_bbox() %>% as.vector()

leaflet_map_honey <- leaflet() %>% 
  addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
  fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) %>% 
    ## NOTE - compared to previos version of function - I've removed label param (no label column like below)
      # Add data layers (overlayGroups)
    addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state == selected_lake,],
                group = "Watershed Extent",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p1_get_lakes_huc6_sf[p1_get_lakes_huc6_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC6",
                color = 'green', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p1_get_lakes_huc8_sf[p1_get_lakes_huc8_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC8",
                color = 'blue', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>%
    addPolygons(data = p1_get_lakes_huc10_sf[p1_get_lakes_huc10_sf$lake_w_state == selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC10",
                color = 'purple', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>%
    addPolygons(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state == selected_lake,],
                group = "Saline lakes",
                color = '#3A6DB7', opacity = 0.6, weight = 1,
                popup = ~label) %>% 
      addLabelOnlyMarkers(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state == selected_lake,],
                          lng = ~X, lat = ~Y, group = "Lake labels",
                        label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)) %>% 
  addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes", "Watershed Extent",
                                       "Great Basin HUC6","Great Basin HUC8","Great Basin HUC10",
                                       "Lake labels"),
                     position = "topright",
                     options = layersControlOptions(collapsed = F)) %>% 
  hideGroup(c("Great Basin HUC6","Great Basin HUC8","Great Basin HUC10"))

leaflet_map_honey

```

- **Lakes that Share same Watershed**:

* Some Lakes share the same watershed or have overlapping watersheds. How should we distinguish the data in the watersheds of these lake pairs?

```{r message =FALSE, echo = FALSE, warnings = FALSE}

selected_lake <- c('Winnemucca Lake,NV','Pyramid Lake,NV','Harney Lake,OR','Malheur Lake,OR') 

bbox <- p2_lake_watersheds_dissolved %>%
  filter(lake_w_state %in% selected_lake) %>% 
  sf::st_bbox() %>% as.vector()

leaflet_map_pairs <- leaflet() %>% 
  addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
  fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) %>% 
    ## NOTE - compared to previos version of function - I've removed label param (no label column like below)
      # Add data layers (overlayGroups)
    addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state %in% selected_lake[1],],
                group = "Watershed Extent - Winnemucca",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
      addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state %in% selected_lake[2],],
                group = "Watershed Extent - Pyramid",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
      addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state %in% selected_lake[3],],
                group = "Watershed Extent - Harney",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
      addPolygons(data = p2_lake_watersheds_dissolved[p2_lake_watersheds_dissolved$lake_w_state %in% selected_lake[4],],
                group = "Watershed Extent - Malheur",
                color = 'black', fillColor = "#C3CB9F", opacity = 0.4, weight = 2) %>% 
    addPolygons(data = p1_get_lakes_huc6_sf[p1_get_lakes_huc6_sf$lake_w_state %in% selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC6",
                color = 'green', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p1_get_lakes_huc8_sf[p1_get_lakes_huc8_sf$lake_w_state %in% selected_lake,] %>%
                  ms_simplify(),
                group = "Great Basin HUC8",
                color = 'blue', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>% 
    addPolygons(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state %in% selected_lake,],
                group = "Saline lakes",
                color = '#3A6DB7', opacity = 0.6, weight = 1,
                popup = ~label) %>% 
    addPolygons(data = p1_get_lakes_huc10_sf[p1_get_lakes_huc10_sf$lake_w_state %in% selected_lake,] %>%
                  ms_simplify(), group = "Great Basin HUC10",
                color = 'purple', fillColor = "grey", opacity = 0.2, weight = 1, popup = ~Name) %>%
      addLabelOnlyMarkers(data = p3_saline_lakes_sf[p3_saline_lakes_sf$lake_w_state %in% selected_lake,],
                          lng = ~X, lat = ~Y, group = "Lake labels",
                        label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)) %>% 
  addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes", "Watershed Extent - Winnemucca",
                                       "Watershed Extent - Pyramid","Watershed Extent - Harney",
                                       "Watershed Extent - Malheur",
                                       "Great Basin HUC6","Great Basin HUC8","Great Basin HUC10",
                                       "Lake labels"),
                     position = "topright",
                     options = layersControlOptions(collapsed = F)) %>%
  hideGroup(c("Great Basin HUC6","Great Basin HUC8","Great Basin HUC10"))

leaflet_map_pairs

```

<br> 
<br>

### NWIS Sites and Flowlines Map.

This map shows the active sites across the basin with daily values and field measurement values for the surface water measurements (discharge, gage height). These sites have data for the time frame between 2000 and 2020

```{r lake_watershed_nwis_sites, message =FALSE, echo = FALSE, warnings = FALSE, out.width = '100%'}

dv_sites_in_watershed <- p1_site_in_watersheds_sf %>%
  filter(site_no %in% unique( p1_nwis_dv_sw_data$site_no)) %>% 
  mutate(service = 'dv',
         label = paste(site_no,': ', station_nm))

field_meas_sites_in_watershed <- p1_site_in_watersheds_sf %>%
  filter(site_no %in% unique( p1_nwis_meas_sw_data$site_no)) %>% 
  mutate(service = 'measurements',
         label = paste(site_no,': ', station_nm))

  # Build map
  leaflet_map_sites <- leaflet() %>% 
    #Add Basemap (baseGroups)
    addProviderTiles("Esri.WorldGrayCanvas", group = c("No labels", "Labels"))  %>%
    #addProviderTiles("HERE.satelliteDay", group = c("No labels", "Labels"))  %>%
    addProviderTiles("CartoDB.PositronOnlyLabels", group = "Labels") %>%
    # Add data layers (overlayGroups)
    addPolygons(data = p2_lake_watersheds_dissolved,
                group = "Watershed Extent", color = 'black',
                fillColor = "#C3CB9F",
                opacity = 0.4, weight = 1,) %>% 
    addPolygons(data = p3_saline_lakes_sf, group = "Saline lakes",
                color = '#3A6DB7', opacity = 0.8, weight = 2,
                popup = ~label) %>%
        addCircleMarkers(data = dv_sites_in_watershed,
                         group = c("Gage sites (dv)"),
                         radius = 3, weight = 1,
                         color = 'grey',
                         fillColor = 'firebrick', popup = ~label) %>%
        addCircleMarkers(data = field_meas_sites_in_watershed,
                         group = c("Gage sites (field measurements)"),
                         radius = 3, weight = 1,
                          color = 'grey',
                         fillColor = 'green', popup = ~label) %>%
    addLabelOnlyMarkers(data = p3_saline_lakes_sf,
                        lng = ~X, lat = ~Y,
                        group = "Lake labels", label = ~lake_w_state,
                        labelOptions = labelOptions(noHide = T, textOnly = T)
                        ) %>% 
    addPolylines(data = p3_flowlines_sf, group = "Streams",
                 color = scico(9, palette = 'davos')[5], opacity = 0.8,
                 weight = ~rescale(streamorde, to = c(1, 4)),
                 popup = ~label) %>% 
    addLayersControl(baseGroups = c("Labels", "No Labels"),
                     overlayGroups = c("Saline lakes", "Lake labels",
                                       "Watershed Extent",
                                       "Gage sites (dv)",
                                       "Gage sites (field measurements)",
                                       'Streams'
                                       ),
                     position = "topright",
                     options = layersControlOptions(collapsed = F)) %>% 
    hideGroup(c("Gage sites (dv)","Gage sites (field measurements)","Streams"))
  
  
```

```{r message =FALSE, echo = FALSE, warnings = FALSE}

leaflet_map_sites

```

### Summary:  

This is a preliminary look at surface water (sw) and groundwater (gw) site and site data from the National Water Information System (NWIS). For each lake, all sw and gw sites within the watershed boundaries [link to other rmd] were found. Daily and instantaneous data, as well as field measurements were queried for each site from 2000 - 2020.

We have intentionally cast a wide net to include as many sites as possible. We expect further filtering to fit the needs of the project, and seek SME feedback on:

* 1. watershed boundaries (spatial filtering)

* 2. relevant time periods (temporal filtering)

* 3. defining "active sites" (temporal filtering)


### Questions
- What is the relevant time period to determine "active sites"?
- What is the minimum number of observations to include a site?

### Next Steps
- include additional gw parameters measuring water level
- query Water Quality Portal
- data harmonization  